<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>runflow.hcl2 API documentation</title>
<meta name="description" content="This module is a fork of amplify-education/python-hcl2 …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>runflow.hcl2</code></h1>
</header>
<section id="section-intro">
<p>This module is a fork of amplify-education/python-hcl2.</p>
<p>Some reasons not using python-hcl2:</p>
<ul>
<li>
<p>It returns Dict, instead of an AST. For the Runflow's use case, we
need to populate some fields in the runtime.</p>
</li>
<li>
<p>The library seems problematic for a while:</p>
</li>
<li>It cannot parse exp values: 1e7 =&gt; lark.exceptions.UnexpectedToken.</li>
<li>It cannot transform full splat:
a=b[*].1 =&gt; {'a': Tree('full_splat_expr_term', ['b', 1])}</li>
<li>
<p>It turns attribute values to a list: a = 1 =&gt; "a": [1].</p>
</li>
<li>
<p>I want the parser can import and call Python functions in HCL2.</p>
</li>
</ul>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
This module is a fork of amplify-education/python-hcl2.

Some reasons not using python-hcl2:

* It returns Dict, instead of an AST. For the Runflow&#39;s use case, we
  need to populate some fields in the runtime.

* The library seems problematic for a while:
  * It cannot parse exp values: 1e7 =&gt; lark.exceptions.UnexpectedToken.
  * It cannot transform full splat:
    a=b[*].1 =&gt; {&#39;a&#39;: Tree(&#39;full_splat_expr_term&#39;, [&#39;b&#39;, 1])}
  * It turns attribute values to a list: a = 1 =&gt; &#34;a&#34;: [1].

* I want the parser can import and call Python functions in HCL2.
&#34;&#34;&#34;

import itertools
import json
import operator
import re
import textwrap
from datetime import datetime
from functools import singledispatch
from typing import Any, Dict, List, Set, Union, Tuple

from dateutil.parser import parse as parse_datetime
from lark import Discard, Transformer
from tenacity import (
    wait_fixed,
    wait_random,
    wait_exponential,
    wait_random_exponential,
    wait_chain,
)

from runflow.errors import RunflowReferenceError
from runflow.utils import import_module
from runflow.hcl2_parser import Lark_StandAlone

HEREDOC_PATTERN = re.compile(
    r&#34;&lt;&lt;-?([a-zA-Z][a-zA-Z0-9._-]+)\n((.|\n)*?)\n\s*\1&#34;, re.S
)

INTERPOLATION = re.compile(r&#39;\${ *((?:&#34;(?:[^&#34;\\]|\\.)*&#34;|[^}&#34;]+)+) *}&#39;)


class Module(dict):
    pass


class StringLit(str):
    pass


class JoinedStr:
    def __init__(self, elements):
        self.elements = elements

    def __repr__(self):
        return &#34;&lt;JoinedStr&gt;&#34;

    def __eq__(self, o):
        return isinstance(o, JoinedStr) and o.elements == self.elements


def parse_template(string: str) -&gt; Union[StringLit, JoinedStr]:
    result = []
    previous = 0

    for interpolation_match in INTERPOLATION.finditer(string):
        start, end = interpolation_match.span()

        if previous != start:
            result.append(StringLit(string[previous:start]))

        expr = interpolation_match.group(1)
        result.append(loads(expr, start=&#34;eval&#34;))
        previous = end

    if not result:
        return StringLit(string)

    if previous != len(string):
        result.append(StringLit(string[previous:]))

    return JoinedStr(result)


class Attribute(dict):
    def __init__(self, key, value):
        self.key = key
        self.value = value
        super().__init__({key: value})

    def merge_to(self, res):
        res = dict(res)
        res.update(self)
        return res


class Block(dict):
    def merge_to(self, res):
        res = dict(res)
        for key, value in self.items():
            key = str(key)

            if key not in res:
                res[key] = [value]
                continue

            if not isinstance(res[key], list):
                res[key] = [res[key], value]
                continue

            if isinstance(value, list):
                res[key].extend(value)
            else:
                res[key].append(value)

        return res


class Interpolation(str):
    def __init__(self, expr):
        super().__init__()
        self.expr = expr
        self.value = &#34;${%s}&#34; % expr

    def __str__(self):
        return self.value

    def __repr__(self):
        return self.value

    def __eq__(self, o):
        return isinstance(o, Interpolation) and self.expr == o.expr


class Identifier(str):
    pass


class GetIndex:
    def __init__(self, expr, index):
        self.expr = expr
        self.index = index
        self.value = &#34;%s[%s]&#34; % (self.expr, self.index)

    def __str__(self):
        return self.value

    def __repr__(self):
        return self.value

    def __eq__(self, o):
        return (
            isinstance(o, GetIndex)
            and self.expr == o.expr
            and self.index == o.index
        )

    @property
    def attr_chain(self):
        chain = []
        extract_attr_chain(self, chain)
        return chain


class GetAttr:
    def __init__(self, expr, attr):
        self.expr = expr
        self.attr = attr
        self.value = &#34;%s.%s&#34; % (self.expr, self.attr)

    def __str__(self):
        return self.value

    def __repr__(self):
        return self.value

    def __eq__(self, o):
        return (
            isinstance(o, GetAttr)
            and self.expr == o.expr
            and self.attr == o.attr
        )

    @property
    def attr_chain(self):
        chain = []
        extract_attr_chain(self, chain)
        return chain


@singledispatch
def extract_attr_chain(ast: Any, chain):
    chain.append(ast)


@extract_attr_chain.register
def _extract_attr_chain_from_get_attr(ast: GetAttr, chain):
    extract_attr_chain(ast.expr, chain)
    chain.append(ast.attr)


@extract_attr_chain.register
def _extract_attr_chain_from_get_index(ast: GetIndex, chain):
    extract_attr_chain(ast.expr, chain)
    chain.append(ast.index)


class Splat:
    def __init__(self, array, elements):
        self.array = array
        self.elements = elements

    def __repr__(self):
        return &#34;%s.*.%s&#34; % (
            self.array,
            &#34;.&#34;.join([str(e) for e in self.elements]),
        )

    def __eq__(self, o):
        return (
            isinstance(o, Splat)
            and self.array == o.array
            and self.elements == o.elements
        )


class Kwargs:
    def __init__(self, args=None):
        self.args = args


class Call:
    def __init__(self, func_name, args, kwargs):
        self.func_name = func_name
        self.args = args
        self.kwargs = kwargs

    def __repr__(self):
        return &#34;%s(%s)&#34; % (self.func_name, &#34;,&#34;.join(str(a) for a in self.args))

    def __eq__(self, o):
        return (
            isinstance(o, Call)
            and self.func_name == o.func_name
            and self.args == o.args
        )


class Conditional:
    def __init__(self, predicate, true_expr, false_expr):
        self.predicate = predicate
        self.true_expr = true_expr
        self.false_expr = false_expr

    def __repr__(self):
        return &#34;%s ? %s : %s&#34; % (
            self.predicate,
            self.true_expr,
            self.false_expr,
        )

    def __eq__(self, o):
        return (
            isinstance(o, Conditional)
            and self.predicate == o.predicate
            and self.true_expr == o.true_expr
            and self.false_expr == o.false_expr
        )


class Operation:
    def __init__(self, elements):
        self.elements = elements

    def __repr__(self):
        return &#34;(%s)&#34; % (&#34;&#34;.join([str(e) for e in self.elements]))

    def __eq__(self, o):
        return isinstance(o, Operation) and self.elements == o.elements


class ListExpr:
    def __init__(self, element_id, array, element, condition):
        self.element_id = element_id
        self.array = array
        self.element = element
        self.condition = condition

    def __repr__(self):
        return &#34;[for %s in %s: %s%s]&#34; % (
            (
                &#34;,&#34;.join(self.element_id)
                if isinstance(self.element_id, tuple)
                else self.element_id
            ),
            self.array,
            self.element,
            f&#34; if {self.condition}&#34; if self.condition else &#34;&#34;,
        )

    def __eq__(self, o):
        return (
            isinstance(o, ListExpr)
            and self.element_id == o.element_id
            and self.array == o.array
            and self.element == o.element
            and self.condition == o.condition
        )


# pylint: disable=too-many-arguments
class DictExpr:
    def __init__(self, element_id, array, key, value, condition):
        self.array = array
        self.element_id = element_id
        self.key = key
        self.value = value
        self.condition = condition

    def __repr__(self):
        return &#34;{for %s in %s: %s =&gt; %s%s}&#34; % (
            (
                &#34;,&#34;.join(self.element_id)
                if isinstance(self.element_id, tuple)
                else self.element_id
            ),
            self.array,
            self.key,
            self.value,
            f&#34; if {self.condition}&#34; if self.condition else &#34;&#34;,
        )

    def __eq__(self, o):
        return (
            isinstance(o, DictExpr)
            and self.element_id == o.element_id
            and self.array == o.array
            and self.key == o.key
            and self.value == o.value
            and self.condition == o.condition
        )


class Not:
    def __init__(self, expr):
        self.expr = expr

    def __repr__(self):
        return &#34;(!%s)&#34; % self.expr

    def __eq__(self, o):
        return isinstance(o, Not) and self.expr == o.expr


def strip_new_line_tokens(args: List) -&gt; List:
    return [
        arg for arg in args if arg != &#34;\n&#34; and not isinstance(arg, Discard)
    ]


# pylint: disable=too-many-public-methods,no-self-use
class AstTransformer(Transformer):
    def module(self, args: List) -&gt; Dict:
        args = strip_new_line_tokens(args)
        return Module(args[0])

    def eval(self, args: List) -&gt; Dict:
        return args[0]

    def quoted_template_expr(self, args: Any) -&gt; Union[StringLit, JoinedStr]:
        return parse_template(args[0])

    def string_lit(self, args: Any) -&gt; StringLit:
        return StringLit(args[0])

    # pylint: disable=invalid-name
    def STRING_LIT(self, args: Any):
        return self.strip_quotes(&#34;&#34;.join([str(arg) for arg in args]))

    def _heredoc_template(self, args: List) -&gt; str:
        match = HEREDOC_PATTERN.match(str(args[0]))
        if not match:
            raise RuntimeError(&#34;Invalid Heredoc token: %s&#34; % args[0])
        return match.group(2)

    def heredoc_template(self, args: List) -&gt; Union[StringLit, JoinedStr]:
        return parse_template(self._heredoc_template(args))

    def heredoc_template_trim(self, args: List) -&gt; Union[StringLit, JoinedStr]:
        return parse_template(textwrap.dedent(self._heredoc_template(args)))

    def float_lit(self, args: List) -&gt; float:
        return float(&#34;&#34;.join([str(arg) for arg in args]))

    def int_lit(self, args: List) -&gt; int:
        return int(&#34;&#34;.join([str(arg) for arg in args]))

    def expr_term(self, args: List) -&gt; Any:
        args = strip_new_line_tokens(args)
        if args[0] == &#34;true&#34;:
            return True
        if args[0] == &#34;false&#34;:
            return False
        if args[0] == &#34;null&#34;:
            return None
        if args[0] == &#34;(&#34;:
            return args[1]
        return args[0]

    def attribute(self, args: List) -&gt; Attribute:
        key = str(args[0])
        if key.startswith(&#39;&#34;&#39;) and key.endswith(&#39;&#34;&#39;):
            key = key[1:-1]
        value = self.to_string_dollar(args[1])
        return Attribute(key, value)

    def block(self, args: List) -&gt; Block:
        args = strip_new_line_tokens(args)
        if isinstance(args[-1], str):
            args.append({})

        result: Dict[str, Any] = {}
        current_level = result
        for arg in args[0:-2]:
            current_level[self.strip_quotes(arg)] = {}
            current_level = current_level[self.strip_quotes(arg)]

        current_level[self.strip_quotes(args[-2])] = args[-1]
        return Block(result)

    def body(self, args: List) -&gt; Module:
        args = strip_new_line_tokens(args)
        result: Dict[str, Any] = {}
        for arg in args:
            result = arg.merge_to(result)
        return Module(result)

    def to_string_dollar(self, value: Any) -&gt; Any:
        if isinstance(
            value,
            (
                GetAttr,
                GetIndex,
                Splat,
                Call,
                Conditional,
                Operation,
                ListExpr,
                DictExpr,
                Not,
                Identifier,
            ),
        ):
            return Interpolation(value)
        if isinstance(value, str):
            if value.startswith(&#39;&#34;&#39;) and value.endswith(&#39;&#34;&#39;):
                return str(value)[1:-1]
            return str(value)
        return value

    def identifier(self, value: Any) -&gt; Identifier:
        return Identifier(str(value[0]))

    def index_expr_term(self, args: List) -&gt; GetIndex:
        args = strip_new_line_tokens(args)
        return GetIndex(args[0], args[1])

    def index(self, args: List) -&gt; Any:
        args = strip_new_line_tokens(args)
        return self.strip_quotes(args[0])

    def get_attr_expr_term(self, args: List) -&gt; GetAttr:
        return GetAttr(args[0], args[1])

    def attr_splat_expr_term(self, args: List) -&gt; Splat:
        return Splat(args[0], args[1])

    def attr_splat(self, args: List) -&gt; List:
        return args

    def full_splat_expr_term(self, args: List) -&gt; Splat:
        return Splat(args[0], args[1])

    def full_splat(self, args: List) -&gt; List:
        return args

    def tuple(self, args: List) -&gt; List:
        args = strip_new_line_tokens(args)
        return [self.to_string_dollar(arg) for arg in args]

    def object_elem(self, args: List) -&gt; Dict:
        key = self.strip_quotes(args[0])
        value = self.to_string_dollar(args[1])
        return {key: value}

    def object(self, args: List) -&gt; Dict:
        args = strip_new_line_tokens(args)
        result: Dict[str, Any] = {}
        for arg in args:
            result.update(arg)
        return result

    def function_call(self, args: List) -&gt; Call:
        args = strip_new_line_tokens(args)
        func_name = str(args[0])

        if len(args) == 1:
            return Call(func_name, [], {})

        func_args, func_kwargs = args[1]
        return Call(func_name, func_args, func_kwargs)

    def kwarg(self, args: List) -&gt; Kwargs:
        return Kwargs()

    def arguments(self, args: List) -&gt; Tuple[List, List]:
        if args and isinstance(args[-1], Kwargs):
            return (args[:-2], args[-2])
        return (args, [])

    def conditional(self, args: List) -&gt; Conditional:
        args = strip_new_line_tokens(args)
        if len(args) == 1:
            return args[0]
        return Conditional(args[0], args[1], args[2])

    def binary_operator(self, args: List) -&gt; str:
        return str(args[0])

    def binary_op(self, args: List):
        args = strip_new_line_tokens(args)
        if len(args) == 1:
            return args[0]
        return Operation(args)

    binary_or_op = binary_op
    binary_or_operator = binary_operator

    binary_and_op = binary_op
    binary_and_operator = binary_operator

    binary_eq_op = binary_op
    binary_eq_operator = binary_operator

    binary_test_op = binary_op
    binary_test_operator = binary_operator

    binary_term_op = binary_op
    binary_term_operator = binary_operator

    binary_factor_op = binary_op
    binary_factor_operator = binary_operator

    def for_intro(self, args: List) -&gt; List:
        args = strip_new_line_tokens(args)

        if len(args) == 5:
            return [args[1], args[3]]

        if len(args) == 7:
            return [(args[1], args[3]), args[5]]

        raise ValueError(f&#34;invalid for intro: {args}&#34;)

    def for_cond(self, args: List):
        args = strip_new_line_tokens(args)
        return args[-1]

    def for_tuple_expr(self, args: List) -&gt; ListExpr:
        args = strip_new_line_tokens(args)
        element_id, array = args[1]
        element = args[2]
        condition = args[3] if len(args) &gt; 4 else None
        return ListExpr(element_id, array, element, condition)

    def for_object_expr(self, args: List) -&gt; DictExpr:
        args = strip_new_line_tokens(args)
        element_id, array = args[1]
        key, value = args[2], args[4]
        condition = args[5] if len(args) &gt; 6 else None
        return DictExpr(element_id, array, key, value, condition)

    def unary_op(self, args: List) -&gt; Union[Operation, Not]:
        if args[0] == &#34;-&#34;:
            return Operation([0, &#34;-&#34;, args[1]])

        if args[0] == &#34;!&#34;:
            return Not(args[1])

        raise ValueError(f&#34;invalid operator: {args[0]}&#34;)

    def new_line_and_or_comma(self, _: List) -&gt; Discard:
        return Discard()

    def new_line_or_comment(self, _: List) -&gt; Discard:
        return Discard()

    def strip_quotes(self, value: Any) -&gt; Any:
        if isinstance(value, str):
            if value.startswith(&#39;&#34;&#39;) and value.endswith(&#39;&#34;&#39;):
                return str(value)[1:-1]
        return value


hcl2 = Lark_StandAlone(transformer=AstTransformer())


def loads(source, start=&#34;module&#34;):
    if start == &#34;module&#34;:
        source = source + &#34;\n&#34;

    return hcl2.parse(source, start)


@singledispatch
def _for_iterable(iterable, id_count=1):
    raise ValueError(&#34;invalid iterable type: {iterable}&#34;)


@_for_iterable.register(tuple)
@_for_iterable.register(list)
def _for_iterable_list_or_tuple(iterable, id_count=1):
    for index, element in enumerate(iterable):
        yield element if id_count == 1 else (index, element)


@_for_iterable.register(dict)
def _for_iterable_dict(iterable, id_count=1):
    for key, value in iterable.items():
        yield key if id_count == 1 else (key, value)


@_for_iterable.register(set)
def _for_iterable_set(iterable, id_count=1):
    for element in iterable:
        yield element if id_count == 1 else (element, element)


@singledispatch
def resolve_deps(value: Any, deps: Set):
    pass


@resolve_deps.register
def _resolve_interpolation_deps(value: Interpolation, deps: Set):
    resolve_deps(value.expr, deps)


@resolve_deps.register
def _resolve_call_deps(value: Call, deps: Set):
    resolve_deps(value.args, deps)
    resolve_deps(value.kwargs, deps)


@resolve_deps.register
def _resolve_splat_deps(value: Splat, deps: Set):
    resolve_deps(value.array, deps)


@resolve_deps.register
def _resolve_conditional_deps(value: Conditional, deps: Set):
    resolve_deps(value.predicate, deps)
    resolve_deps(value.true_expr, deps)
    resolve_deps(value.false_expr, deps)


@resolve_deps.register
def _resolve_list_expr_deps(value: ListExpr, deps: Set):
    resolve_deps(value.array, deps)
    resolve_deps(value.element, deps)
    resolve_deps(value.condition, deps)


@resolve_deps.register
def _resolve_dict_expr_deps(value: DictExpr, deps: Set):
    resolve_deps(value.array, deps)
    resolve_deps(value.key, deps)
    resolve_deps(value.value, deps)
    resolve_deps(value.condition, deps)


@resolve_deps.register
def _resolve_not_deps(value: Not, deps: Set):
    resolve_deps(value.expr, deps)


@resolve_deps.register
def _resolve_op_deps(value: Operation, deps: Set):
    for index, elem in enumerate(value.elements):
        if index % 2 == 0:
            resolve_deps(elem, deps)


@resolve_deps.register
def _resolve_getattr_deps(value: GetAttr, deps: Set):
    task_keys = list(value.attr_chain)
    if task_keys and task_keys[0] == &#34;task&#34; and len(task_keys) &gt;= 3:
        deps.add(&#34;.&#34;.join(task_keys[:3]))


@resolve_deps.register
def _resolve_joined_str_deps(value: JoinedStr, deps: Set):
    for element in value.elements:
        resolve_deps(element, deps)


@resolve_deps.register
def _resolve_list_deps(value: list, deps: Set):
    for _value in value:
        resolve_deps(_value, deps)


@resolve_deps.register
def _resolve_dict_deps(value: dict, deps: Set):
    for _value in value.values():
        resolve_deps(_value, deps)


@singledispatch
def evaluate(ast, _):
    return ast


@evaluate.register
def _eval_module(ast: Module, env):
    return {
        key: evaluate(attribute_or_block, env)
        for key, attribute_or_block in ast.items()
    }


@evaluate.register
def _eval_interpolation(ast: Interpolation, env):
    return evaluate(ast.expr, env)


@evaluate.register(GetIndex)
@evaluate.register(GetAttr)
def _eval_getter(ast: Union[GetIndex, GetAttr], env):
    result = env
    for attr in ast.attr_chain:
        if isinstance(attr, Splat):
            result = evaluate(attr, env)
        elif isinstance(attr, str) and hasattr(result, attr):
            result = getattr(result, attr)
        else:
            try:
                result = result[attr]
            except KeyError as error:
                message = list(ast.attr_chain)
                raise RunflowReferenceError(message) from error
    return result


@evaluate.register
def _eval_identifier(ast: Identifier, env):
    return env[ast]


@evaluate.register
def _eval_string_lit(ast: StringLit, _):
    return ast


@evaluate.register
def _eval_joined_str(ast: JoinedStr, env):
    result = []
    if len(ast.elements) == 1:
        if isinstance(ast.elements[0], StringLit):
            return str(ast.elements[0])
        return evaluate(ast.elements[0], env)

    for node in ast.elements:
        if isinstance(node, StringLit):
            result.append(str(node))
        else:
            result.append(str(evaluate(node, env)))
    return &#34;&#34;.join(result)


@evaluate.register
def _eval_not(ast: Not, env):
    return not evaluate(ast.expr, env)


@evaluate.register
def _eval_splat(ast: Splat, env):
    array = evaluate(ast.array, env)

    def extract(elem, attrs):
        result = elem
        for attr in attrs:
            if isinstance(attr, str) and hasattr(result, attr):
                result = getattr(result, attr)
            else:
                result = result[attr]
        return result

    return [extract(elem, ast.elements) for elem in array]


@evaluate.register
def _eval_list_expr(ast: ListExpr, env):
    result = []
    id_count = 2 if isinstance(ast.element_id, tuple) else 1
    for elem in _for_iterable(evaluate(ast.array, env), id_count):
        if id_count == 2:
            index_id, element_id = ast.element_id
            _index, _elem = elem
            newenv = dict(
                env,
                **{
                    str(element_id): _elem,
                    str(index_id): _index,
                },
            )
        else:
            newenv = dict(env, **{str(ast.element_id): elem})
        if ast.condition and not evaluate(ast.condition, newenv):
            continue
        result.append(evaluate(ast.element, newenv))
    return result


@evaluate.register
def _eval_dict_expr(ast: DictExpr, env):
    result = {}
    id_count = 2 if isinstance(ast.element_id, tuple) else 1
    for elem in _for_iterable(evaluate(ast.array, env), id_count):
        if id_count == 2:
            index_id, element_id = ast.element_id
            _index, _elem = elem
            newenv = dict(
                env,
                **{
                    str(element_id): _elem,
                    str(index_id): _index,
                },
            )
        else:
            newenv = dict(env, **{str(ast.element_id): elem})
        if ast.condition and not evaluate(ast.condition, newenv):
            continue
        key = evaluate(ast.key, newenv)
        value = evaluate(ast.value, newenv)
        result[key] = value
    return result


@evaluate.register
def _eval_conditional(ast: Conditional, env):
    cond = evaluate(ast.predicate, env)

    if cond:
        return evaluate(ast.true_expr, env)

    return evaluate(ast.false_expr, env)


@evaluate.register
def _eval_call(ast: Call, env):
    func_name = str(ast.func_name)
    if &#34;:&#34; in func_name:
        func = import_module(func_name)
    elif func_name in __builtins__:  # type: ignore
        func = __builtins__[func_name]  # type: ignore
    elif func_name in FUNCS:
        func = FUNCS[func_name]
    elif func_name in env.get(&#34;func&#34;):
        func = env[&#34;func&#34;][func_name]
    else:
        raise NameError(f&#34;function {ast.func_name} is not defined&#34;)

    args = evaluate(ast.args, env)
    kwargs = evaluate(ast.kwargs, env)
    if isinstance(kwargs, dict):
        _args = args
        _kwargs = kwargs
    elif isinstance(kwargs, list):
        _args = args + kwargs
        _kwargs = {}
    else:
        _args = args + [kwargs]
        _kwargs = {}

    return func(*_args, **_kwargs)


OPERATORS = {
    &#34;+&#34;: operator.add,
    &#34;-&#34;: operator.sub,
    &#34;*&#34;: operator.mul,
    &#34;/&#34;: operator.truediv,
    &#34;%&#34;: operator.mod,
    &#34;&lt;&#34;: operator.lt,
    &#34;&lt;=&#34;: operator.le,
    &#34;&gt;&#34;: operator.gt,
    &#34;&gt;=&#34;: operator.ge,
    &#34;==&#34;: operator.eq,
    &#34;!=&#34;: operator.ne,
}


@evaluate.register
def _eval_op(ast: Operation, env):
    result = None
    _operator = None
    for index, elem in enumerate(ast.elements):
        if index == 0:
            result = evaluate(elem, env)
        elif index % 2 == 1:
            _operator = elem
        elif _operator in OPERATORS:
            result = OPERATORS[_operator](result, evaluate(elem, env))
        elif _operator == &#34;||&#34;:
            result = result or evaluate(elem, env)
        elif _operator == &#34;&amp;&amp;&#34;:
            result = result and evaluate(elem, env)
        else:
            raise ValueError(f&#34;invalid operator: {_operator}&#34;)

    return result


@evaluate.register
def _eval_list(ast: list, env):
    return [evaluate(a, env) for a in ast]


@evaluate.register
def _eval_dict(ast: dict, env):
    return {k: evaluate(v, env) for k, v in ast.items()}


FUNCS = {
    &#34;lower&#34;: lambda s: s.lower(),
    &#34;upper&#34;: lambda s: s.upper(),
    &#34;split&#34;: lambda sep, s: s.split(sep),
    &#34;join&#34;: lambda sep, s: sep.join(s),
    &#34;tojson&#34;: json.dumps,
    &#34;concat&#34;: lambda *s: list(itertools.chain(*s)),
    &#34;datetime&#34;: datetime,
    &#34;todatetime&#34;: parse_datetime,
    &#34;call&#34;: lambda obj, meth, args=None, kwargs=None: (
        getattr(obj, meth)(*(args or []), **(kwargs or {}))
    ),
    &#34;wait_fixed&#34;: wait_fixed,
    &#34;wait_random&#34;: wait_random,
    &#34;wait_exponential&#34;: wait_exponential,
    &#34;wait_random_exponential&#34;: wait_random_exponential,
    &#34;wait_chain&#34;: lambda s: wait_chain(*s),
}</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="runflow.hcl2.evaluate"><code class="name flex">
<span>def <span class="ident">evaluate</span></span>(<span>ast, _)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@singledispatch
def evaluate(ast, _):
    return ast</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.extract_attr_chain"><code class="name flex">
<span>def <span class="ident">extract_attr_chain</span></span>(<span>ast: Any, chain)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@singledispatch
def extract_attr_chain(ast: Any, chain):
    chain.append(ast)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.loads"><code class="name flex">
<span>def <span class="ident">loads</span></span>(<span>source, start='module')</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def loads(source, start=&#34;module&#34;):
    if start == &#34;module&#34;:
        source = source + &#34;\n&#34;

    return hcl2.parse(source, start)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.parse_template"><code class="name flex">
<span>def <span class="ident">parse_template</span></span>(<span>string: str) ‑> Union[<a title="runflow.hcl2.StringLit" href="#runflow.hcl2.StringLit">StringLit</a>, <a title="runflow.hcl2.JoinedStr" href="#runflow.hcl2.JoinedStr">JoinedStr</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_template(string: str) -&gt; Union[StringLit, JoinedStr]:
    result = []
    previous = 0

    for interpolation_match in INTERPOLATION.finditer(string):
        start, end = interpolation_match.span()

        if previous != start:
            result.append(StringLit(string[previous:start]))

        expr = interpolation_match.group(1)
        result.append(loads(expr, start=&#34;eval&#34;))
        previous = end

    if not result:
        return StringLit(string)

    if previous != len(string):
        result.append(StringLit(string[previous:]))

    return JoinedStr(result)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.resolve_deps"><code class="name flex">
<span>def <span class="ident">resolve_deps</span></span>(<span>value: Any, deps: Set)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@singledispatch
def resolve_deps(value: Any, deps: Set):
    pass</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.strip_new_line_tokens"><code class="name flex">
<span>def <span class="ident">strip_new_line_tokens</span></span>(<span>args: List) ‑> List</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def strip_new_line_tokens(args: List) -&gt; List:
    return [
        arg for arg in args if arg != &#34;\n&#34; and not isinstance(arg, Discard)
    ]</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="runflow.hcl2.AstTransformer"><code class="flex name class">
<span>class <span class="ident">AstTransformer</span></span>
<span>(</span><span>visit_tokens=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Transformers visit each node of the tree, and run the appropriate method on it according to the node's data.</p>
<p>Methods are provided by the user via inheritance, and called according to <code>tree.data</code>.
The returned value from each method replaces the node in the tree structure.</p>
<p>Transformers work bottom-up (or depth-first), starting with the leaves and ending at the root of the tree.
Transformers can be used to implement map &amp; reduce patterns. Because nodes are reduced from leaf to root,
at any point the callbacks may assume the children have already been transformed (if applicable).</p>
<p><code>Transformer</code> can do anything <code>Visitor</code> can do, but because it reconstructs the tree,
it is slightly less efficient.</p>
<p>All these classes implement the transformer interface:</p>
<ul>
<li><code>Transformer</code> - Recursively transforms the tree. This is the one you probably want.</li>
<li><code>Transformer_InPlace</code> - Non-recursive. Changes the tree in-place instead of returning new instances</li>
<li><code>Transformer_InPlaceRecursive</code> - Recursive. Changes the tree in-place instead of returning new instances</li>
</ul>
<h2 id="parameters">Parameters</h2>
<p>visit_tokens (bool, optional): Should the transformer visit tokens in addition to rules.
Setting this to <code>False</code> is slightly faster. Defaults to <code>True</code>.
(For processing ignored tokens, use the <code>lexer_callbacks</code> options)</p>
<p>NOTE: A transformer without methods essentially performs a non-memoized partial deepcopy.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AstTransformer(Transformer):
    def module(self, args: List) -&gt; Dict:
        args = strip_new_line_tokens(args)
        return Module(args[0])

    def eval(self, args: List) -&gt; Dict:
        return args[0]

    def quoted_template_expr(self, args: Any) -&gt; Union[StringLit, JoinedStr]:
        return parse_template(args[0])

    def string_lit(self, args: Any) -&gt; StringLit:
        return StringLit(args[0])

    # pylint: disable=invalid-name
    def STRING_LIT(self, args: Any):
        return self.strip_quotes(&#34;&#34;.join([str(arg) for arg in args]))

    def _heredoc_template(self, args: List) -&gt; str:
        match = HEREDOC_PATTERN.match(str(args[0]))
        if not match:
            raise RuntimeError(&#34;Invalid Heredoc token: %s&#34; % args[0])
        return match.group(2)

    def heredoc_template(self, args: List) -&gt; Union[StringLit, JoinedStr]:
        return parse_template(self._heredoc_template(args))

    def heredoc_template_trim(self, args: List) -&gt; Union[StringLit, JoinedStr]:
        return parse_template(textwrap.dedent(self._heredoc_template(args)))

    def float_lit(self, args: List) -&gt; float:
        return float(&#34;&#34;.join([str(arg) for arg in args]))

    def int_lit(self, args: List) -&gt; int:
        return int(&#34;&#34;.join([str(arg) for arg in args]))

    def expr_term(self, args: List) -&gt; Any:
        args = strip_new_line_tokens(args)
        if args[0] == &#34;true&#34;:
            return True
        if args[0] == &#34;false&#34;:
            return False
        if args[0] == &#34;null&#34;:
            return None
        if args[0] == &#34;(&#34;:
            return args[1]
        return args[0]

    def attribute(self, args: List) -&gt; Attribute:
        key = str(args[0])
        if key.startswith(&#39;&#34;&#39;) and key.endswith(&#39;&#34;&#39;):
            key = key[1:-1]
        value = self.to_string_dollar(args[1])
        return Attribute(key, value)

    def block(self, args: List) -&gt; Block:
        args = strip_new_line_tokens(args)
        if isinstance(args[-1], str):
            args.append({})

        result: Dict[str, Any] = {}
        current_level = result
        for arg in args[0:-2]:
            current_level[self.strip_quotes(arg)] = {}
            current_level = current_level[self.strip_quotes(arg)]

        current_level[self.strip_quotes(args[-2])] = args[-1]
        return Block(result)

    def body(self, args: List) -&gt; Module:
        args = strip_new_line_tokens(args)
        result: Dict[str, Any] = {}
        for arg in args:
            result = arg.merge_to(result)
        return Module(result)

    def to_string_dollar(self, value: Any) -&gt; Any:
        if isinstance(
            value,
            (
                GetAttr,
                GetIndex,
                Splat,
                Call,
                Conditional,
                Operation,
                ListExpr,
                DictExpr,
                Not,
                Identifier,
            ),
        ):
            return Interpolation(value)
        if isinstance(value, str):
            if value.startswith(&#39;&#34;&#39;) and value.endswith(&#39;&#34;&#39;):
                return str(value)[1:-1]
            return str(value)
        return value

    def identifier(self, value: Any) -&gt; Identifier:
        return Identifier(str(value[0]))

    def index_expr_term(self, args: List) -&gt; GetIndex:
        args = strip_new_line_tokens(args)
        return GetIndex(args[0], args[1])

    def index(self, args: List) -&gt; Any:
        args = strip_new_line_tokens(args)
        return self.strip_quotes(args[0])

    def get_attr_expr_term(self, args: List) -&gt; GetAttr:
        return GetAttr(args[0], args[1])

    def attr_splat_expr_term(self, args: List) -&gt; Splat:
        return Splat(args[0], args[1])

    def attr_splat(self, args: List) -&gt; List:
        return args

    def full_splat_expr_term(self, args: List) -&gt; Splat:
        return Splat(args[0], args[1])

    def full_splat(self, args: List) -&gt; List:
        return args

    def tuple(self, args: List) -&gt; List:
        args = strip_new_line_tokens(args)
        return [self.to_string_dollar(arg) for arg in args]

    def object_elem(self, args: List) -&gt; Dict:
        key = self.strip_quotes(args[0])
        value = self.to_string_dollar(args[1])
        return {key: value}

    def object(self, args: List) -&gt; Dict:
        args = strip_new_line_tokens(args)
        result: Dict[str, Any] = {}
        for arg in args:
            result.update(arg)
        return result

    def function_call(self, args: List) -&gt; Call:
        args = strip_new_line_tokens(args)
        func_name = str(args[0])

        if len(args) == 1:
            return Call(func_name, [], {})

        func_args, func_kwargs = args[1]
        return Call(func_name, func_args, func_kwargs)

    def kwarg(self, args: List) -&gt; Kwargs:
        return Kwargs()

    def arguments(self, args: List) -&gt; Tuple[List, List]:
        if args and isinstance(args[-1], Kwargs):
            return (args[:-2], args[-2])
        return (args, [])

    def conditional(self, args: List) -&gt; Conditional:
        args = strip_new_line_tokens(args)
        if len(args) == 1:
            return args[0]
        return Conditional(args[0], args[1], args[2])

    def binary_operator(self, args: List) -&gt; str:
        return str(args[0])

    def binary_op(self, args: List):
        args = strip_new_line_tokens(args)
        if len(args) == 1:
            return args[0]
        return Operation(args)

    binary_or_op = binary_op
    binary_or_operator = binary_operator

    binary_and_op = binary_op
    binary_and_operator = binary_operator

    binary_eq_op = binary_op
    binary_eq_operator = binary_operator

    binary_test_op = binary_op
    binary_test_operator = binary_operator

    binary_term_op = binary_op
    binary_term_operator = binary_operator

    binary_factor_op = binary_op
    binary_factor_operator = binary_operator

    def for_intro(self, args: List) -&gt; List:
        args = strip_new_line_tokens(args)

        if len(args) == 5:
            return [args[1], args[3]]

        if len(args) == 7:
            return [(args[1], args[3]), args[5]]

        raise ValueError(f&#34;invalid for intro: {args}&#34;)

    def for_cond(self, args: List):
        args = strip_new_line_tokens(args)
        return args[-1]

    def for_tuple_expr(self, args: List) -&gt; ListExpr:
        args = strip_new_line_tokens(args)
        element_id, array = args[1]
        element = args[2]
        condition = args[3] if len(args) &gt; 4 else None
        return ListExpr(element_id, array, element, condition)

    def for_object_expr(self, args: List) -&gt; DictExpr:
        args = strip_new_line_tokens(args)
        element_id, array = args[1]
        key, value = args[2], args[4]
        condition = args[5] if len(args) &gt; 6 else None
        return DictExpr(element_id, array, key, value, condition)

    def unary_op(self, args: List) -&gt; Union[Operation, Not]:
        if args[0] == &#34;-&#34;:
            return Operation([0, &#34;-&#34;, args[1]])

        if args[0] == &#34;!&#34;:
            return Not(args[1])

        raise ValueError(f&#34;invalid operator: {args[0]}&#34;)

    def new_line_and_or_comma(self, _: List) -&gt; Discard:
        return Discard()

    def new_line_or_comment(self, _: List) -&gt; Discard:
        return Discard()

    def strip_quotes(self, value: Any) -&gt; Any:
        if isinstance(value, str):
            if value.startswith(&#39;&#34;&#39;) and value.endswith(&#39;&#34;&#39;):
                return str(value)[1:-1]
        return value</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>lark.visitors.Transformer</li>
<li>lark.visitors._Decoratable</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="runflow.hcl2.AstTransformer.STRING_LIT"><code class="name flex">
<span>def <span class="ident">STRING_LIT</span></span>(<span>self, args: Any)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def STRING_LIT(self, args: Any):
    return self.strip_quotes(&#34;&#34;.join([str(arg) for arg in args]))</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.arguments"><code class="name flex">
<span>def <span class="ident">arguments</span></span>(<span>self, args: List) ‑> Tuple[List, List]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def arguments(self, args: List) -&gt; Tuple[List, List]:
    if args and isinstance(args[-1], Kwargs):
        return (args[:-2], args[-2])
    return (args, [])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.attr_splat"><code class="name flex">
<span>def <span class="ident">attr_splat</span></span>(<span>self, args: List) ‑> List</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def attr_splat(self, args: List) -&gt; List:
    return args</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.attr_splat_expr_term"><code class="name flex">
<span>def <span class="ident">attr_splat_expr_term</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Splat" href="#runflow.hcl2.Splat">Splat</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def attr_splat_expr_term(self, args: List) -&gt; Splat:
    return Splat(args[0], args[1])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.attribute"><code class="name flex">
<span>def <span class="ident">attribute</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Attribute" href="#runflow.hcl2.Attribute">Attribute</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def attribute(self, args: List) -&gt; Attribute:
    key = str(args[0])
    if key.startswith(&#39;&#34;&#39;) and key.endswith(&#39;&#34;&#39;):
        key = key[1:-1]
    value = self.to_string_dollar(args[1])
    return Attribute(key, value)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_and_op"><code class="name flex">
<span>def <span class="ident">binary_and_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_and_operator"><code class="name flex">
<span>def <span class="ident">binary_and_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_eq_op"><code class="name flex">
<span>def <span class="ident">binary_eq_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_eq_operator"><code class="name flex">
<span>def <span class="ident">binary_eq_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_factor_op"><code class="name flex">
<span>def <span class="ident">binary_factor_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_factor_operator"><code class="name flex">
<span>def <span class="ident">binary_factor_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_op"><code class="name flex">
<span>def <span class="ident">binary_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_operator"><code class="name flex">
<span>def <span class="ident">binary_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_or_op"><code class="name flex">
<span>def <span class="ident">binary_or_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_or_operator"><code class="name flex">
<span>def <span class="ident">binary_or_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_term_op"><code class="name flex">
<span>def <span class="ident">binary_term_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_term_operator"><code class="name flex">
<span>def <span class="ident">binary_term_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_test_op"><code class="name flex">
<span>def <span class="ident">binary_test_op</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_op(self, args: List):
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Operation(args)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.binary_test_operator"><code class="name flex">
<span>def <span class="ident">binary_test_operator</span></span>(<span>self, args: List) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def binary_operator(self, args: List) -&gt; str:
    return str(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.block"><code class="name flex">
<span>def <span class="ident">block</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Block" href="#runflow.hcl2.Block">Block</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def block(self, args: List) -&gt; Block:
    args = strip_new_line_tokens(args)
    if isinstance(args[-1], str):
        args.append({})

    result: Dict[str, Any] = {}
    current_level = result
    for arg in args[0:-2]:
        current_level[self.strip_quotes(arg)] = {}
        current_level = current_level[self.strip_quotes(arg)]

    current_level[self.strip_quotes(args[-2])] = args[-1]
    return Block(result)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.body"><code class="name flex">
<span>def <span class="ident">body</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Module" href="#runflow.hcl2.Module">Module</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def body(self, args: List) -&gt; Module:
    args = strip_new_line_tokens(args)
    result: Dict[str, Any] = {}
    for arg in args:
        result = arg.merge_to(result)
    return Module(result)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.conditional"><code class="name flex">
<span>def <span class="ident">conditional</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Conditional" href="#runflow.hcl2.Conditional">Conditional</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def conditional(self, args: List) -&gt; Conditional:
    args = strip_new_line_tokens(args)
    if len(args) == 1:
        return args[0]
    return Conditional(args[0], args[1], args[2])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.eval"><code class="name flex">
<span>def <span class="ident">eval</span></span>(<span>self, args: List) ‑> Dict</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def eval(self, args: List) -&gt; Dict:
    return args[0]</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.expr_term"><code class="name flex">
<span>def <span class="ident">expr_term</span></span>(<span>self, args: List) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def expr_term(self, args: List) -&gt; Any:
    args = strip_new_line_tokens(args)
    if args[0] == &#34;true&#34;:
        return True
    if args[0] == &#34;false&#34;:
        return False
    if args[0] == &#34;null&#34;:
        return None
    if args[0] == &#34;(&#34;:
        return args[1]
    return args[0]</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.float_lit"><code class="name flex">
<span>def <span class="ident">float_lit</span></span>(<span>self, args: List) ‑> float</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def float_lit(self, args: List) -&gt; float:
    return float(&#34;&#34;.join([str(arg) for arg in args]))</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.for_cond"><code class="name flex">
<span>def <span class="ident">for_cond</span></span>(<span>self, args: List)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def for_cond(self, args: List):
    args = strip_new_line_tokens(args)
    return args[-1]</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.for_intro"><code class="name flex">
<span>def <span class="ident">for_intro</span></span>(<span>self, args: List) ‑> List</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def for_intro(self, args: List) -&gt; List:
    args = strip_new_line_tokens(args)

    if len(args) == 5:
        return [args[1], args[3]]

    if len(args) == 7:
        return [(args[1], args[3]), args[5]]

    raise ValueError(f&#34;invalid for intro: {args}&#34;)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.for_object_expr"><code class="name flex">
<span>def <span class="ident">for_object_expr</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.DictExpr" href="#runflow.hcl2.DictExpr">DictExpr</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def for_object_expr(self, args: List) -&gt; DictExpr:
    args = strip_new_line_tokens(args)
    element_id, array = args[1]
    key, value = args[2], args[4]
    condition = args[5] if len(args) &gt; 6 else None
    return DictExpr(element_id, array, key, value, condition)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.for_tuple_expr"><code class="name flex">
<span>def <span class="ident">for_tuple_expr</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.ListExpr" href="#runflow.hcl2.ListExpr">ListExpr</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def for_tuple_expr(self, args: List) -&gt; ListExpr:
    args = strip_new_line_tokens(args)
    element_id, array = args[1]
    element = args[2]
    condition = args[3] if len(args) &gt; 4 else None
    return ListExpr(element_id, array, element, condition)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.full_splat"><code class="name flex">
<span>def <span class="ident">full_splat</span></span>(<span>self, args: List) ‑> List</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def full_splat(self, args: List) -&gt; List:
    return args</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.full_splat_expr_term"><code class="name flex">
<span>def <span class="ident">full_splat_expr_term</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Splat" href="#runflow.hcl2.Splat">Splat</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def full_splat_expr_term(self, args: List) -&gt; Splat:
    return Splat(args[0], args[1])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.function_call"><code class="name flex">
<span>def <span class="ident">function_call</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Call" href="#runflow.hcl2.Call">Call</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def function_call(self, args: List) -&gt; Call:
    args = strip_new_line_tokens(args)
    func_name = str(args[0])

    if len(args) == 1:
        return Call(func_name, [], {})

    func_args, func_kwargs = args[1]
    return Call(func_name, func_args, func_kwargs)</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.get_attr_expr_term"><code class="name flex">
<span>def <span class="ident">get_attr_expr_term</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.GetAttr" href="#runflow.hcl2.GetAttr">GetAttr</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_attr_expr_term(self, args: List) -&gt; GetAttr:
    return GetAttr(args[0], args[1])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.heredoc_template"><code class="name flex">
<span>def <span class="ident">heredoc_template</span></span>(<span>self, args: List) ‑> Union[<a title="runflow.hcl2.StringLit" href="#runflow.hcl2.StringLit">StringLit</a>, <a title="runflow.hcl2.JoinedStr" href="#runflow.hcl2.JoinedStr">JoinedStr</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def heredoc_template(self, args: List) -&gt; Union[StringLit, JoinedStr]:
    return parse_template(self._heredoc_template(args))</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.heredoc_template_trim"><code class="name flex">
<span>def <span class="ident">heredoc_template_trim</span></span>(<span>self, args: List) ‑> Union[<a title="runflow.hcl2.StringLit" href="#runflow.hcl2.StringLit">StringLit</a>, <a title="runflow.hcl2.JoinedStr" href="#runflow.hcl2.JoinedStr">JoinedStr</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def heredoc_template_trim(self, args: List) -&gt; Union[StringLit, JoinedStr]:
    return parse_template(textwrap.dedent(self._heredoc_template(args)))</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.identifier"><code class="name flex">
<span>def <span class="ident">identifier</span></span>(<span>self, value: Any) ‑> <a title="runflow.hcl2.Identifier" href="#runflow.hcl2.Identifier">Identifier</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def identifier(self, value: Any) -&gt; Identifier:
    return Identifier(str(value[0]))</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.index"><code class="name flex">
<span>def <span class="ident">index</span></span>(<span>self, args: List) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def index(self, args: List) -&gt; Any:
    args = strip_new_line_tokens(args)
    return self.strip_quotes(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.index_expr_term"><code class="name flex">
<span>def <span class="ident">index_expr_term</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.GetIndex" href="#runflow.hcl2.GetIndex">GetIndex</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def index_expr_term(self, args: List) -&gt; GetIndex:
    args = strip_new_line_tokens(args)
    return GetIndex(args[0], args[1])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.int_lit"><code class="name flex">
<span>def <span class="ident">int_lit</span></span>(<span>self, args: List) ‑> int</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def int_lit(self, args: List) -&gt; int:
    return int(&#34;&#34;.join([str(arg) for arg in args]))</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.kwarg"><code class="name flex">
<span>def <span class="ident">kwarg</span></span>(<span>self, args: List) ‑> <a title="runflow.hcl2.Kwargs" href="#runflow.hcl2.Kwargs">Kwargs</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def kwarg(self, args: List) -&gt; Kwargs:
    return Kwargs()</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.module"><code class="name flex">
<span>def <span class="ident">module</span></span>(<span>self, args: List) ‑> Dict</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def module(self, args: List) -&gt; Dict:
    args = strip_new_line_tokens(args)
    return Module(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.new_line_and_or_comma"><code class="name flex">
<span>def <span class="ident">new_line_and_or_comma</span></span>(<span>self, _: List) ‑> lark.visitors.Discard</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def new_line_and_or_comma(self, _: List) -&gt; Discard:
    return Discard()</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.new_line_or_comment"><code class="name flex">
<span>def <span class="ident">new_line_or_comment</span></span>(<span>self, _: List) ‑> lark.visitors.Discard</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def new_line_or_comment(self, _: List) -&gt; Discard:
    return Discard()</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.object"><code class="name flex">
<span>def <span class="ident">object</span></span>(<span>self, args: List) ‑> Dict</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def object(self, args: List) -&gt; Dict:
    args = strip_new_line_tokens(args)
    result: Dict[str, Any] = {}
    for arg in args:
        result.update(arg)
    return result</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.object_elem"><code class="name flex">
<span>def <span class="ident">object_elem</span></span>(<span>self, args: List) ‑> Dict</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def object_elem(self, args: List) -&gt; Dict:
    key = self.strip_quotes(args[0])
    value = self.to_string_dollar(args[1])
    return {key: value}</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.quoted_template_expr"><code class="name flex">
<span>def <span class="ident">quoted_template_expr</span></span>(<span>self, args: Any) ‑> Union[<a title="runflow.hcl2.StringLit" href="#runflow.hcl2.StringLit">StringLit</a>, <a title="runflow.hcl2.JoinedStr" href="#runflow.hcl2.JoinedStr">JoinedStr</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def quoted_template_expr(self, args: Any) -&gt; Union[StringLit, JoinedStr]:
    return parse_template(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.string_lit"><code class="name flex">
<span>def <span class="ident">string_lit</span></span>(<span>self, args: Any) ‑> <a title="runflow.hcl2.StringLit" href="#runflow.hcl2.StringLit">StringLit</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def string_lit(self, args: Any) -&gt; StringLit:
    return StringLit(args[0])</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.strip_quotes"><code class="name flex">
<span>def <span class="ident">strip_quotes</span></span>(<span>self, value: Any) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def strip_quotes(self, value: Any) -&gt; Any:
    if isinstance(value, str):
        if value.startswith(&#39;&#34;&#39;) and value.endswith(&#39;&#34;&#39;):
            return str(value)[1:-1]
    return value</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.to_string_dollar"><code class="name flex">
<span>def <span class="ident">to_string_dollar</span></span>(<span>self, value: Any) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_string_dollar(self, value: Any) -&gt; Any:
    if isinstance(
        value,
        (
            GetAttr,
            GetIndex,
            Splat,
            Call,
            Conditional,
            Operation,
            ListExpr,
            DictExpr,
            Not,
            Identifier,
        ),
    ):
        return Interpolation(value)
    if isinstance(value, str):
        if value.startswith(&#39;&#34;&#39;) and value.endswith(&#39;&#34;&#39;):
            return str(value)[1:-1]
        return str(value)
    return value</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.tuple"><code class="name flex">
<span>def <span class="ident">tuple</span></span>(<span>self, args: List) ‑> List</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tuple(self, args: List) -&gt; List:
    args = strip_new_line_tokens(args)
    return [self.to_string_dollar(arg) for arg in args]</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.AstTransformer.unary_op"><code class="name flex">
<span>def <span class="ident">unary_op</span></span>(<span>self, args: List) ‑> Union[<a title="runflow.hcl2.Operation" href="#runflow.hcl2.Operation">Operation</a>, <a title="runflow.hcl2.Not" href="#runflow.hcl2.Not">Not</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unary_op(self, args: List) -&gt; Union[Operation, Not]:
    if args[0] == &#34;-&#34;:
        return Operation([0, &#34;-&#34;, args[1]])

    if args[0] == &#34;!&#34;:
        return Not(args[1])

    raise ValueError(f&#34;invalid operator: {args[0]}&#34;)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="runflow.hcl2.Attribute"><code class="flex name class">
<span>class <span class="ident">Attribute</span></span>
<span>(</span><span>key, value)</span>
</code></dt>
<dd>
<div class="desc"><p>dict() -&gt; new empty dictionary
dict(mapping) -&gt; new dictionary initialized from a mapping object's
(key, value) pairs
dict(iterable) -&gt; new dictionary initialized as if via:
d = {}
for k, v in iterable:
d[k] = v
dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs
in the keyword argument list.
For example:
dict(one=1, two=2)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Attribute(dict):
    def __init__(self, key, value):
        self.key = key
        self.value = value
        super().__init__({key: value})

    def merge_to(self, res):
        res = dict(res)
        res.update(self)
        return res</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.dict</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="runflow.hcl2.Attribute.merge_to"><code class="name flex">
<span>def <span class="ident">merge_to</span></span>(<span>self, res)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def merge_to(self, res):
    res = dict(res)
    res.update(self)
    return res</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="runflow.hcl2.Block"><code class="flex name class">
<span>class <span class="ident">Block</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>dict() -&gt; new empty dictionary
dict(mapping) -&gt; new dictionary initialized from a mapping object's
(key, value) pairs
dict(iterable) -&gt; new dictionary initialized as if via:
d = {}
for k, v in iterable:
d[k] = v
dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs
in the keyword argument list.
For example:
dict(one=1, two=2)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Block(dict):
    def merge_to(self, res):
        res = dict(res)
        for key, value in self.items():
            key = str(key)

            if key not in res:
                res[key] = [value]
                continue

            if not isinstance(res[key], list):
                res[key] = [res[key], value]
                continue

            if isinstance(value, list):
                res[key].extend(value)
            else:
                res[key].append(value)

        return res</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.dict</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="runflow.hcl2.Block.merge_to"><code class="name flex">
<span>def <span class="ident">merge_to</span></span>(<span>self, res)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def merge_to(self, res):
    res = dict(res)
    for key, value in self.items():
        key = str(key)

        if key not in res:
            res[key] = [value]
            continue

        if not isinstance(res[key], list):
            res[key] = [res[key], value]
            continue

        if isinstance(value, list):
            res[key].extend(value)
        else:
            res[key].append(value)

    return res</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="runflow.hcl2.Call"><code class="flex name class">
<span>class <span class="ident">Call</span></span>
<span>(</span><span>func_name, args, kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Call:
    def __init__(self, func_name, args, kwargs):
        self.func_name = func_name
        self.args = args
        self.kwargs = kwargs

    def __repr__(self):
        return &#34;%s(%s)&#34; % (self.func_name, &#34;,&#34;.join(str(a) for a in self.args))

    def __eq__(self, o):
        return (
            isinstance(o, Call)
            and self.func_name == o.func_name
            and self.args == o.args
        )</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.Conditional"><code class="flex name class">
<span>class <span class="ident">Conditional</span></span>
<span>(</span><span>predicate, true_expr, false_expr)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Conditional:
    def __init__(self, predicate, true_expr, false_expr):
        self.predicate = predicate
        self.true_expr = true_expr
        self.false_expr = false_expr

    def __repr__(self):
        return &#34;%s ? %s : %s&#34; % (
            self.predicate,
            self.true_expr,
            self.false_expr,
        )

    def __eq__(self, o):
        return (
            isinstance(o, Conditional)
            and self.predicate == o.predicate
            and self.true_expr == o.true_expr
            and self.false_expr == o.false_expr
        )</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.DictExpr"><code class="flex name class">
<span>class <span class="ident">DictExpr</span></span>
<span>(</span><span>element_id, array, key, value, condition)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DictExpr:
    def __init__(self, element_id, array, key, value, condition):
        self.array = array
        self.element_id = element_id
        self.key = key
        self.value = value
        self.condition = condition

    def __repr__(self):
        return &#34;{for %s in %s: %s =&gt; %s%s}&#34; % (
            (
                &#34;,&#34;.join(self.element_id)
                if isinstance(self.element_id, tuple)
                else self.element_id
            ),
            self.array,
            self.key,
            self.value,
            f&#34; if {self.condition}&#34; if self.condition else &#34;&#34;,
        )

    def __eq__(self, o):
        return (
            isinstance(o, DictExpr)
            and self.element_id == o.element_id
            and self.array == o.array
            and self.key == o.key
            and self.value == o.value
            and self.condition == o.condition
        )</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.GetAttr"><code class="flex name class">
<span>class <span class="ident">GetAttr</span></span>
<span>(</span><span>expr, attr)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GetAttr:
    def __init__(self, expr, attr):
        self.expr = expr
        self.attr = attr
        self.value = &#34;%s.%s&#34; % (self.expr, self.attr)

    def __str__(self):
        return self.value

    def __repr__(self):
        return self.value

    def __eq__(self, o):
        return (
            isinstance(o, GetAttr)
            and self.expr == o.expr
            and self.attr == o.attr
        )

    @property
    def attr_chain(self):
        chain = []
        extract_attr_chain(self, chain)
        return chain</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="runflow.hcl2.GetAttr.attr_chain"><code class="name">var <span class="ident">attr_chain</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def attr_chain(self):
    chain = []
    extract_attr_chain(self, chain)
    return chain</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="runflow.hcl2.GetIndex"><code class="flex name class">
<span>class <span class="ident">GetIndex</span></span>
<span>(</span><span>expr, index)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GetIndex:
    def __init__(self, expr, index):
        self.expr = expr
        self.index = index
        self.value = &#34;%s[%s]&#34; % (self.expr, self.index)

    def __str__(self):
        return self.value

    def __repr__(self):
        return self.value

    def __eq__(self, o):
        return (
            isinstance(o, GetIndex)
            and self.expr == o.expr
            and self.index == o.index
        )

    @property
    def attr_chain(self):
        chain = []
        extract_attr_chain(self, chain)
        return chain</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="runflow.hcl2.GetIndex.attr_chain"><code class="name">var <span class="ident">attr_chain</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def attr_chain(self):
    chain = []
    extract_attr_chain(self, chain)
    return chain</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="runflow.hcl2.Identifier"><code class="flex name class">
<span>class <span class="ident">Identifier</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>str(object='') -&gt; str
str(bytes_or_buffer[, encoding[, errors]]) -&gt; str</p>
<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.<strong>str</strong>() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Identifier(str):
    pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.str</li>
</ul>
</dd>
<dt id="runflow.hcl2.Interpolation"><code class="flex name class">
<span>class <span class="ident">Interpolation</span></span>
<span>(</span><span>expr)</span>
</code></dt>
<dd>
<div class="desc"><p>str(object='') -&gt; str
str(bytes_or_buffer[, encoding[, errors]]) -&gt; str</p>
<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.<strong>str</strong>() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Interpolation(str):
    def __init__(self, expr):
        super().__init__()
        self.expr = expr
        self.value = &#34;${%s}&#34; % expr

    def __str__(self):
        return self.value

    def __repr__(self):
        return self.value

    def __eq__(self, o):
        return isinstance(o, Interpolation) and self.expr == o.expr</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.str</li>
</ul>
</dd>
<dt id="runflow.hcl2.JoinedStr"><code class="flex name class">
<span>class <span class="ident">JoinedStr</span></span>
<span>(</span><span>elements)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class JoinedStr:
    def __init__(self, elements):
        self.elements = elements

    def __repr__(self):
        return &#34;&lt;JoinedStr&gt;&#34;

    def __eq__(self, o):
        return isinstance(o, JoinedStr) and o.elements == self.elements</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.Kwargs"><code class="flex name class">
<span>class <span class="ident">Kwargs</span></span>
<span>(</span><span>args=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Kwargs:
    def __init__(self, args=None):
        self.args = args</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.ListExpr"><code class="flex name class">
<span>class <span class="ident">ListExpr</span></span>
<span>(</span><span>element_id, array, element, condition)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ListExpr:
    def __init__(self, element_id, array, element, condition):
        self.element_id = element_id
        self.array = array
        self.element = element
        self.condition = condition

    def __repr__(self):
        return &#34;[for %s in %s: %s%s]&#34; % (
            (
                &#34;,&#34;.join(self.element_id)
                if isinstance(self.element_id, tuple)
                else self.element_id
            ),
            self.array,
            self.element,
            f&#34; if {self.condition}&#34; if self.condition else &#34;&#34;,
        )

    def __eq__(self, o):
        return (
            isinstance(o, ListExpr)
            and self.element_id == o.element_id
            and self.array == o.array
            and self.element == o.element
            and self.condition == o.condition
        )</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.Module"><code class="flex name class">
<span>class <span class="ident">Module</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>dict() -&gt; new empty dictionary
dict(mapping) -&gt; new dictionary initialized from a mapping object's
(key, value) pairs
dict(iterable) -&gt; new dictionary initialized as if via:
d = {}
for k, v in iterable:
d[k] = v
dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs
in the keyword argument list.
For example:
dict(one=1, two=2)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Module(dict):
    pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.dict</li>
</ul>
</dd>
<dt id="runflow.hcl2.Not"><code class="flex name class">
<span>class <span class="ident">Not</span></span>
<span>(</span><span>expr)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Not:
    def __init__(self, expr):
        self.expr = expr

    def __repr__(self):
        return &#34;(!%s)&#34; % self.expr

    def __eq__(self, o):
        return isinstance(o, Not) and self.expr == o.expr</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.Operation"><code class="flex name class">
<span>class <span class="ident">Operation</span></span>
<span>(</span><span>elements)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Operation:
    def __init__(self, elements):
        self.elements = elements

    def __repr__(self):
        return &#34;(%s)&#34; % (&#34;&#34;.join([str(e) for e in self.elements]))

    def __eq__(self, o):
        return isinstance(o, Operation) and self.elements == o.elements</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.Splat"><code class="flex name class">
<span>class <span class="ident">Splat</span></span>
<span>(</span><span>array, elements)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Splat:
    def __init__(self, array, elements):
        self.array = array
        self.elements = elements

    def __repr__(self):
        return &#34;%s.*.%s&#34; % (
            self.array,
            &#34;.&#34;.join([str(e) for e in self.elements]),
        )

    def __eq__(self, o):
        return (
            isinstance(o, Splat)
            and self.array == o.array
            and self.elements == o.elements
        )</code></pre>
</details>
</dd>
<dt id="runflow.hcl2.StringLit"><code class="flex name class">
<span>class <span class="ident">StringLit</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>str(object='') -&gt; str
str(bytes_or_buffer[, encoding[, errors]]) -&gt; str</p>
<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.<strong>str</strong>() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class StringLit(str):
    pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.str</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="runflow" href="index.html">runflow</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="runflow.hcl2.evaluate" href="#runflow.hcl2.evaluate">evaluate</a></code></li>
<li><code><a title="runflow.hcl2.extract_attr_chain" href="#runflow.hcl2.extract_attr_chain">extract_attr_chain</a></code></li>
<li><code><a title="runflow.hcl2.loads" href="#runflow.hcl2.loads">loads</a></code></li>
<li><code><a title="runflow.hcl2.parse_template" href="#runflow.hcl2.parse_template">parse_template</a></code></li>
<li><code><a title="runflow.hcl2.resolve_deps" href="#runflow.hcl2.resolve_deps">resolve_deps</a></code></li>
<li><code><a title="runflow.hcl2.strip_new_line_tokens" href="#runflow.hcl2.strip_new_line_tokens">strip_new_line_tokens</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="runflow.hcl2.AstTransformer" href="#runflow.hcl2.AstTransformer">AstTransformer</a></code></h4>
<ul class="">
<li><code><a title="runflow.hcl2.AstTransformer.STRING_LIT" href="#runflow.hcl2.AstTransformer.STRING_LIT">STRING_LIT</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.arguments" href="#runflow.hcl2.AstTransformer.arguments">arguments</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.attr_splat" href="#runflow.hcl2.AstTransformer.attr_splat">attr_splat</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.attr_splat_expr_term" href="#runflow.hcl2.AstTransformer.attr_splat_expr_term">attr_splat_expr_term</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.attribute" href="#runflow.hcl2.AstTransformer.attribute">attribute</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_and_op" href="#runflow.hcl2.AstTransformer.binary_and_op">binary_and_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_and_operator" href="#runflow.hcl2.AstTransformer.binary_and_operator">binary_and_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_eq_op" href="#runflow.hcl2.AstTransformer.binary_eq_op">binary_eq_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_eq_operator" href="#runflow.hcl2.AstTransformer.binary_eq_operator">binary_eq_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_factor_op" href="#runflow.hcl2.AstTransformer.binary_factor_op">binary_factor_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_factor_operator" href="#runflow.hcl2.AstTransformer.binary_factor_operator">binary_factor_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_op" href="#runflow.hcl2.AstTransformer.binary_op">binary_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_operator" href="#runflow.hcl2.AstTransformer.binary_operator">binary_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_or_op" href="#runflow.hcl2.AstTransformer.binary_or_op">binary_or_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_or_operator" href="#runflow.hcl2.AstTransformer.binary_or_operator">binary_or_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_term_op" href="#runflow.hcl2.AstTransformer.binary_term_op">binary_term_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_term_operator" href="#runflow.hcl2.AstTransformer.binary_term_operator">binary_term_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_test_op" href="#runflow.hcl2.AstTransformer.binary_test_op">binary_test_op</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.binary_test_operator" href="#runflow.hcl2.AstTransformer.binary_test_operator">binary_test_operator</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.block" href="#runflow.hcl2.AstTransformer.block">block</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.body" href="#runflow.hcl2.AstTransformer.body">body</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.conditional" href="#runflow.hcl2.AstTransformer.conditional">conditional</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.eval" href="#runflow.hcl2.AstTransformer.eval">eval</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.expr_term" href="#runflow.hcl2.AstTransformer.expr_term">expr_term</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.float_lit" href="#runflow.hcl2.AstTransformer.float_lit">float_lit</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.for_cond" href="#runflow.hcl2.AstTransformer.for_cond">for_cond</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.for_intro" href="#runflow.hcl2.AstTransformer.for_intro">for_intro</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.for_object_expr" href="#runflow.hcl2.AstTransformer.for_object_expr">for_object_expr</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.for_tuple_expr" href="#runflow.hcl2.AstTransformer.for_tuple_expr">for_tuple_expr</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.full_splat" href="#runflow.hcl2.AstTransformer.full_splat">full_splat</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.full_splat_expr_term" href="#runflow.hcl2.AstTransformer.full_splat_expr_term">full_splat_expr_term</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.function_call" href="#runflow.hcl2.AstTransformer.function_call">function_call</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.get_attr_expr_term" href="#runflow.hcl2.AstTransformer.get_attr_expr_term">get_attr_expr_term</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.heredoc_template" href="#runflow.hcl2.AstTransformer.heredoc_template">heredoc_template</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.heredoc_template_trim" href="#runflow.hcl2.AstTransformer.heredoc_template_trim">heredoc_template_trim</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.identifier" href="#runflow.hcl2.AstTransformer.identifier">identifier</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.index" href="#runflow.hcl2.AstTransformer.index">index</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.index_expr_term" href="#runflow.hcl2.AstTransformer.index_expr_term">index_expr_term</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.int_lit" href="#runflow.hcl2.AstTransformer.int_lit">int_lit</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.kwarg" href="#runflow.hcl2.AstTransformer.kwarg">kwarg</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.module" href="#runflow.hcl2.AstTransformer.module">module</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.new_line_and_or_comma" href="#runflow.hcl2.AstTransformer.new_line_and_or_comma">new_line_and_or_comma</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.new_line_or_comment" href="#runflow.hcl2.AstTransformer.new_line_or_comment">new_line_or_comment</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.object" href="#runflow.hcl2.AstTransformer.object">object</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.object_elem" href="#runflow.hcl2.AstTransformer.object_elem">object_elem</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.quoted_template_expr" href="#runflow.hcl2.AstTransformer.quoted_template_expr">quoted_template_expr</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.string_lit" href="#runflow.hcl2.AstTransformer.string_lit">string_lit</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.strip_quotes" href="#runflow.hcl2.AstTransformer.strip_quotes">strip_quotes</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.to_string_dollar" href="#runflow.hcl2.AstTransformer.to_string_dollar">to_string_dollar</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.tuple" href="#runflow.hcl2.AstTransformer.tuple">tuple</a></code></li>
<li><code><a title="runflow.hcl2.AstTransformer.unary_op" href="#runflow.hcl2.AstTransformer.unary_op">unary_op</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="runflow.hcl2.Attribute" href="#runflow.hcl2.Attribute">Attribute</a></code></h4>
<ul class="">
<li><code><a title="runflow.hcl2.Attribute.merge_to" href="#runflow.hcl2.Attribute.merge_to">merge_to</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="runflow.hcl2.Block" href="#runflow.hcl2.Block">Block</a></code></h4>
<ul class="">
<li><code><a title="runflow.hcl2.Block.merge_to" href="#runflow.hcl2.Block.merge_to">merge_to</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="runflow.hcl2.Call" href="#runflow.hcl2.Call">Call</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Conditional" href="#runflow.hcl2.Conditional">Conditional</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.DictExpr" href="#runflow.hcl2.DictExpr">DictExpr</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.GetAttr" href="#runflow.hcl2.GetAttr">GetAttr</a></code></h4>
<ul class="">
<li><code><a title="runflow.hcl2.GetAttr.attr_chain" href="#runflow.hcl2.GetAttr.attr_chain">attr_chain</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="runflow.hcl2.GetIndex" href="#runflow.hcl2.GetIndex">GetIndex</a></code></h4>
<ul class="">
<li><code><a title="runflow.hcl2.GetIndex.attr_chain" href="#runflow.hcl2.GetIndex.attr_chain">attr_chain</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="runflow.hcl2.Identifier" href="#runflow.hcl2.Identifier">Identifier</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Interpolation" href="#runflow.hcl2.Interpolation">Interpolation</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.JoinedStr" href="#runflow.hcl2.JoinedStr">JoinedStr</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Kwargs" href="#runflow.hcl2.Kwargs">Kwargs</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.ListExpr" href="#runflow.hcl2.ListExpr">ListExpr</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Module" href="#runflow.hcl2.Module">Module</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Not" href="#runflow.hcl2.Not">Not</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Operation" href="#runflow.hcl2.Operation">Operation</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.Splat" href="#runflow.hcl2.Splat">Splat</a></code></h4>
</li>
<li>
<h4><code><a title="runflow.hcl2.StringLit" href="#runflow.hcl2.StringLit">StringLit</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>